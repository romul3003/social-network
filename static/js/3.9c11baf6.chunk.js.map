{"version":3,"sources":["components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/AddNewPostForm/AddNewPostForm.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["module","exports","Post","message","likesCount","className","classes","item","src","alt","maxLength10","maxLength","AddNewPostForm","props","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","reduxForm","form","MyPosts","React","memo","postElements","posts","map","post","key","id","postsBlock","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","value","onChange","event","currentTarget","onBlur","updateStatus","ProfileInfo","profile","descriptionBlock","photos","large","fullName","aboutMe","Preloader","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.9c11baf6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3Vcn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3cT7M\",\"posts\":\"MyPosts_posts__21WXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1suYd\"};","import React from 'react'\r\nimport './Post.module.css'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = ({ message, likesCount }) => {\r\n\treturn (\r\n\t\t<div className={classes.item}>\r\n\t\t\t<img\r\n\t\t\t\tsrc=\"https://s3.amazonaws.com/liberty-uploads/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t\t{message}\r\n\t\t\t<div>\r\n\t\t\t\t<span>likes: {likesCount}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport { maxLength, required } from '../../../../utils/validators/validators'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Textarea } from '../../../common/FormsControls/FormsControls'\r\n\r\nconst maxLength10 = maxLength(10)\r\n\r\nlet AddNewPostForm = props => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={Textarea}\r\n\t\t\t\tname=\"newPostText\"\r\n\t\t\t\tplaceholder=\"Enter your post\"\r\n\t\t\t\tvalidate={[required, maxLength10]}\r\n\t\t\t/>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nAddNewPostForm = reduxForm({\r\n\tform: 'ProfileAddNewPostForm',\r\n})(AddNewPostForm)\r\n\r\nexport default AddNewPostForm\r\n","import React from 'react'\r\nimport classes from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport AddNewPostForm from './AddNewPostForm/AddNewPostForm'\r\n\r\nconst MyPosts = React.memo(props => {\r\n\tconst postElements = props.posts.map(post => (\r\n\t\t<Post message={post.message} likesCount={post.likesCount} key={post.id} />\r\n\t))\r\n\r\n\tconst onAddPost = values => {\r\n\t\tprops.addPost(values.newPostText)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.postsBlock}>\r\n\t\t\t<h3>My posts</h3>\r\n\t\t\t<div>\r\n\t\t\t\t<AddNewPostForm onSubmit={onAddPost} />\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.posts}>{postElements}</div>\r\n\t\t</div>\r\n\t)\r\n})\r\n\r\nexport default MyPosts\r\n","import { addPost } from '../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText,\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n\taddPost,\r\n})(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n\tconst [editMode, setEditMode] = useState(false)\r\n\tconst [status, setStatus] = useState(props.status)\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateStatus(status)\r\n\t}\r\n\r\n\tconst onStatusChange = event => {\r\n\t\tsetStatus(event.currentTarget.value)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onDoubleClick={activateEditMode}>\r\n\t\t\t\t\t\t<strong>Status:</strong> {props.status || '-----'}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{editMode && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\tonChange={onStatusChange}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileStatusWithHooks\r\n","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n// import ProfileStatus from './ProfileStatus'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.descriptionBlock}>\r\n\t\t\t\t<img src={profile.photos.large} alt={profile.fullName} />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n\t\t\t\t\t<strong>About me:</strong> {profile.aboutMe}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileInfo\r\n","import React, { Fragment } from 'react'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = props => {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tstatus={props.status}\r\n\t\t\t\tupdateStatus={props.updateStatus}\r\n\t\t\t/>\r\n\t\t\t<MyPostsContainer />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n\tgetStatus,\r\n\tgetUserProfile,\r\n\tupdateStatus,\r\n} from '../../redux/profileReducer'\r\nimport { withRouter } from 'react-router-dom'\r\n// import { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push('/login')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.props.getUserProfile(userId)\r\n\t\tthis.props.getStatus(userId)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <Profile {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tstatus: state.profilePage.status,\r\n\t\tauthorizedUserId: state.auth.userId,\r\n\t\tisAuth: state.auth.isAuth,\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tgetUserProfile,\r\n\t\tgetStatus,\r\n\t\tupdateStatus,\r\n\t}),\r\n\twithRouter\r\n\t// withAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}